<script type="text/javascript">
	function person() {
		if (localStorage.getItem("nachname") != null) {
			document.getElementById("nachname").setAttribute("value", localStorage.getItem("nachname"));
		}
		if (localStorage.getItem("vorname") != null) {
			document.getElementById("vorname").setAttribute("value", localStorage.getItem("vorname"));
		}
		if (localStorage.getItem("strasse") != null) {
			document.getElementById("strasse").setAttribute("value", localStorage.getItem("strasse"));
		}
		if (localStorage.getItem("hausnummer") != null) {
			document.getElementById("hausnr").setAttribute("value", localStorage.getItem("hausnummer"));
		}
		if (localStorage.getItem("postleitzahl") != null) {
			document.getElementById("plz").setAttribute("value", localStorage.getItem("postleitzahl"));
		}
		if (localStorage.getItem("ort") != null) {
			document.getElementById("ort").setAttribute("value", localStorage.getItem("ort"));
		}
		if (localStorage.getItem("telefon") != null) {
			document.getElementById("telefon").setAttribute("value", localStorage.getItem("telefon"));
		}
		if (localStorage.getItem("mobil") != null) {
			document.getElementById("mobil").setAttribute("value", localStorage.getItem("mobil"));
		}
		if (localStorage.getItem("email") != null) {
			document.getElementById("email").setAttribute("value", localStorage.getItem("email"));
		}
	}

	function sichern() {
		localStorage.setItem("nachname", document.forms.form.elements.nachname.value);
		localStorage.setItem("vorname", document.forms.form.elements.vorname.value);
		localStorage.setItem("strasse", document.forms.form.elements.strasse.value);
		localStorage.setItem("hausnummer", document.forms.form.elements.hausnr.value);
		localStorage.setItem("postleitzahl", document.forms.form.elements.plz.value);
		localStorage.setItem("ort", document.forms.form.elements.ort.value);
		localStorage.setItem("telefon", document.forms.form.elements.telefon.value);
		localStorage.setItem("mobil", document.forms.form.elements.mobil.value);
		localStorage.setItem("email", document.forms.form.elements.email.value);
		location.href = "./index.php?inc=desktopcompl";
	}

	function pflichtfelder() {
		var i = 0;
		var bereitsFokussiert = false;
		var ungueltig = document.getElementById("ungueltig");
		ungueltig.setAttribute("hidden",true);
		var nachname = document.getElementById("nachname");
		var vorname = document.getElementById("vorname");
		var email = document.getElementById("email");
		if (nachname.value == "") {
			nachname.placeholder = "Bitte ausfüllen!";
			nachname.setAttribute("style", "background-color:#ffccdd");
			if(!bereitsFokussiert){
				nachname.focus();
				bereitsFokussiert = true;
			}
		} else {
			nachname.removeAttribute("style");
			i++;
		}
		if (vorname.value == "") {
			vorname.placeholder = "Bitte ausfüllen!";
			vorname.setAttribute("style", "background-color:#ffccdd");
			if(!bereitsFokussiert){
				vorname.focus();
				bereitsFokussiert = true;
			}
		} else {
			vorname.removeAttribute("style");
			i++;
		}
		if (email.value == "") {
			email.placeholder = "Bitte ausfüllen!";
			email.setAttribute("style", "background-color:#ffccdd");
			if(!bereitsFokussiert){
				email.focus();
				bereitsFokussiert = true;
			}
		} else {
			email.removeAttribute("style");
			i++;
		}
		if (i == 3) {
			var o = 0;
			if (validNachname(nachname.value)) {
				o++;
				nachname.removeAttribute("style");
			} else {
				nachname.setAttribute("style", "background-color:#eeee00");
				ungueltig.removeAttribute("hidden");
			}
			if (validVorname(vorname.value)) {
				o++;
				vorname.removeAttribute("style");
			} else {
				vorname.setAttribute("style", "background-color:#eeee00");
				ungueltig.removeAttribute("hidden");
			}
			if (validStrasse(document.getElementById("strasse").value)) {
				o++;
				document.getElementById("strasse").removeAttribute("style");
			} else {
				document.getElementById("strasse").setAttribute("style", "background-color:#eeee00");
				ungueltig.removeAttribute("hidden");
			}
			if (validHausnummer(document.getElementById("hausnr").value)) {
				o++;
				document.getElementById("hausnr").removeAttribute("style");
			} else {
				document.getElementById("strasse").setAttribute("style", "background-color:#eeee00");
				ungueltig.removeAttribute("hidden");
			}
			if (validPostleitzahl(document.getElementById("plz").value)) {
				o++;
				document.getElementById("plz").removeAttribute("style");
			} else {
				document.getElementById("plz").setAttribute("style", "background-color:#eeee00");
				ungueltig.removeAttribute("hidden");
			}
			if (validOrt(document.getElementById("ort").value)) {
				o++;
				document.getElementById("ort").removeAttribute("style");
			} else {
				document.getElementById("ort").setAttribute("style", "background-color:#eeee00");
				ungueltig.removeAttribute("hidden");
			}
			if (validTelefonnummer(document.getElementById("telefon").value)) {
				o++;
				document.getElementById("telefon").removeAttribute("style");
			} else {
				document.getElementById("telefon").setAttribute("style", "background-color:#eeee00");
				ungueltig.removeAttribute("hidden");
			}
			if (validMobil(document.getElementById("mobil").value)) {
				o++;
				document.getElementById("mobil").removeAttribute("style");
			} else {
				document.getElementById("mobil").setAttribute("style", "background-color:#eeee00");
				ungueltig.removeAttribute("hidden");
			}
			if(validEmail(email.value)){
				o++;
				email.removeAttribute("style");
			} else {
				email.setAttribute("style", "background-color:#eeee00");
				ungueltig.removeAttribute("hidden");
			}
			if (o == 9) {
				sichern();
			} else {
			}
		}
	}

	function validVorname(vorname) {
		var strReg="^([a-zA-ZßÄÖÜäöü]+)+(([\s-]?)+([a-zA-ZßÄÖÜäöü]*))$";
		var regex = new RegExp(strReg);
		return (regex.test(vorname));
	}
	function validNachname(nachname) {
		var strReg="^([a-zA-ZßÄÖÜäöü]+)+(([\s-]?)+([a-zA-ZßÄÖÜäöü]*))$";
		var regex = new RegExp(strReg);
		return (regex.test(nachname));
	}
	function validStrasse(strasse) {
		var strReg="^(([a-zA-ZßÄÖÜäöü]*)+(([\s-]?)+([a-zA-ZßÄÖÜäöü]*)))$";
		var regex = new RegExp(strReg);
		return (regex.test(strasse));
	}
	function validHausnummer(hausnummer){
		var strReg="^((([0-9]+)+([a-zA-ZßÄÖÜäöü]?))*)$";
		var regex = new RegExp(strReg);
		return (regex.test(hausnummer));
	}
	function validPostleitzahl(postleitzahl) {
		var strReg="^(([0-9]{5})*)$";
		var regex = new RegExp(strReg);
		return (regex.test(postleitzahl));
	}
	function validOrt(ort) {
		var strReg="^(([a-zA-ZßÄÖÜäöü]*)+(([\s-]?)+([a-zA-ZßÄÖÜäöü]*))*)$";
		var regex = new RegExp(strReg);
		return (regex.test(ort));
	}
	function validTelefonnummer(telefon) {
		var strReg="^([0-9]*)$";
		var regex = new RegExp(strReg);
		return (regex.test(telefon));
	}
	function validMobil(mobil) {
		var strReg="^([0-9]*)$";
		var regex = new RegExp(strReg);
		return (regex.test(mobil));
	}
	function validEmail(email) {
		var strReg="^([a-zA-Z0-9._-]+)+([@]{1})+([a-zA-Z0-9-]+)+([.]{1})+([a-zA-Z]{2,4})$";
		var regex = new RegExp(strReg);
		return (regex.test(email));
	}
</script>
<div class="container jumbotron">
	<div class="row clearfix">
		<div class="ueberschrift">
			<h3 class="goleft">
				Bitte füllen Sie alle gekennzeichneten Felder aus!
			</h3>
			<h4 class="goleft">
				*Pflichtfelder
			</h4>
			<div align="center">
				<Label class="hinweis"><span>Hinweis: Je mehr Felder Sie ausfüllen, desto besser können wir Kontakt mit Ihnen aufnehmen.</span></Label>
			</div><br>
		</div>
	</div>
	<div class="row clearfix">
		<div class="col-md-3 column"></div>
		<div class="col-md-6 column">
			<form role="form" name="form" method="post" onsubmit="pflichtfelder(); return false;">
				<div class="form-group" id="divnachname">
					<label>Name*</label>
					<input class="form-control" id="nachname" name="nachname" type="name" value="" maxlength="25">
				</div>
				<div class="form-group" id="divvorname">
					<label>Vorname*</label>
					<input class="form-control" id="vorname" name="vorname" type="name" value="" maxlength="25">
				</div>
				<div class="form-group">
					<label >E-Mail*</label>
					<input class="form-control" id="email" type="name" name="email" value="" maxlength="35">
				</div>
				<div class="form-group" id="divstrasse">
					<label>Straße</label>
					<input class="form-control" id="strasse" type="name" name="strasse" value="" maxlength="25">
				</div>
				<div class="form-group" id="divhausnr">
					<label>Hausnummer</label>
					<input class="form-control" id="hausnr" type="name" name="hausnr" value="" maxlength="25">
				</div>
				<div class="form-group" id="divplz">
					<label>Postleitzahl</label>
					<input class="form-control" id="plz" type="name" name="plz" value="" maxlength="25">
				</div>
				<div class="form-group" id="divort">
					<label>Ort</label>
					<input class="form-control" id="ort" type="name" name="ort" value="" maxlength="25">
				</div>
				<div class="form-group">
					<label>Telefon</label>
					<input class="form-control" id="telefon" type="name" name="telefon" value="" maxlength="25">
				</div>
				<div class="form-group">
					<label>Mobil</label>
					<input class="form-control" id="mobil" type="name" name="mobil" value="" maxlength="25">
				</div>
				<label id="ungueltig" style="color:#eeee00" hidden>Ihre Eingabe beinhaltet ungültige Zeichen.</label><br>
				<input type="submit" class="btn btn-primary btn-lg" style="float:right" name="submit" value="Weiter">
			</form><br>
		</div>
		<div class="col-md-6 column"></div>
	</div>
</div>
<script type="text/javascript">
	// on document ready
	$(function() {
		person();
	});
</script>