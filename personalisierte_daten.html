<!-- Autor: Jonas Hallmann, Patrick Geselbracht, Sebastian Kawa -->
<script type="text/javascript">
	function person() {
		$("#nachname").val(localStorage.getItem("nachname"));
		$("#vorname").val(localStorage.getItem("vorname"));
		$("#strasse").val(localStorage.getItem("strasse"));
		$("#hausnr").val(localStorage.getItem("hausnummer"));
		$("#plz").val(localStorage.getItem("postleitzahl"));
		$("#ort").val(localStorage.getItem("ort"));
		$("#telefon").val(localStorage.getItem("telefon"));
		$("#mobil").val(localStorage.getItem("mobil"));
		$("#email").val(localStorage.getItem("email"));
	}

	function sichern() {
		localStorage.setItem("nachname", $("#nachname").val());
		localStorage.setItem("vorname", $("#vorname").val());
		localStorage.setItem("strasse", $("#strasse").val());
		localStorage.setItem("hausnummer", $("#hausnr").val());
		localStorage.setItem("postleitzahl", $("#plz").val());
		localStorage.setItem("ort", $("#ort").val());
		localStorage.setItem("telefon", $("#telefon").val());
		localStorage.setItem("mobil", $("#mobil").val());
		localStorage.setItem("email", $("#email").val());
		location.href = "./index.php?inc=desktopcompl";
	}

	function zeigePflichtfeldFehler (field, focus) {
		field.attr("placeholder", "Bitte ausfüllen");
		field.closest("div.form-group").addClass("has-error");
		if (focus) {
			field.focus();
			$('html, body').animate({
				scrollTop: field.offset().top - 50
			}, 500);

		}
	}

	function pflichtfelder() {
		var pflichtfelderAusgefuellt = true;
		var fokussieren = true;

		var pflichtfelder = [];
		pflichtfelder.push($("#nachname"));
		pflichtfelder.push($("#vorname"));
		pflichtfelder.push($("#email"));

		$.each(pflichtfelder, function (index, inputField) {
			if(inputField.val() == "") {
				zeigePflichtfeldFehler(inputField, fokussieren);
				if (fokussieren) fokussieren = false;
				$("#ungueltig").show();
				pflichtfelderAusgefuellt = false;
			}
		});

		if (pflichtfelderAusgefuellt) sichern();
	}

</script>
<div class="container jumbotron jumbotron-lesspadding">
	<div class="row clearfix">
		<div class="col-md-offset-3 col-md-6 column">
			<div class="ueberschrift">
				<h3>Persönliche Angaben</h3>
				<h5>*Pflichtfelder</h5>
				<h5>Hinweis: Je mehr Felder Sie ausfüllen, desto besser können wir Kontakt mit Ihnen aufnehmen.</h5>
			</div>
			<form role="form" name="form" method="post" onsubmit="pflichtfelder(); return false;">
				<div class="form-group" id="divnachname">
					<label for="nachname" class="control-label">Name*</label>
					<input class="form-control" id="nachname" type="text" placeholder="Nachname">
				</div>
				<div class="form-group" id="divvorname">
					<label for="vorname" class="control-label">Vorname*</label>
					<input class="form-control" id="vorname" type="text" placeholder="Vorname">
				</div>
				<div class="form-group">
					<label for="email" class="control-label">E-Mail*</label>
					<input class="form-control" id="email" type="email" placeholder="E-Mail">
				</div>
				<div class="form-group" id="divstrasse">
					<label for="strasse" class="control-label">Straße</label>
					<input class="form-control" id="strasse" type="text" placeholder="Straße">
				</div>
				<div class="form-group" id="divhausnr">
					<label for="hausnr" class="control-label">Hausnummer</label>
					<input class="form-control" id="hausnr" type="text" placeholder="Hausnummer">
				</div>
				<div class="form-group" id="divplz">
					<label for="plz" class="control-label">Postleitzahl</label>
					<input class="form-control" id="plz" maxlength="5" type="number" placeholder="Postleitzahl">
				</div>
				<div class="form-group" id="divort">
					<label for="ort" class="control-label">Ort</label>
					<input class="form-control" id="ort" type="text" placeholder="Ort">
				</div>
				<div class="form-group">
					<label for="telefon" class="control-label">Telefon</label>
					<input class="form-control" id="telefon" type="tel" placeholder="Telefon">
				</div>
				<div class="form-group">
					<label for="mobil" class="control-label">Mobil</label>
					<input class="form-control" id="mobil" type="tel" placeholder="Mobil">
				</div>
				<p class="bg-danger" id="ungueltig" hidden>Es wurden nicht alle Pflichtfelder ausgefüllt.</p>
				<input type="submit" class="btn btn-primary btn-lg" style="float:right" name="submit" value="Weiter">
			</form><br>
		</div>
	</div>
</div>
<script type="text/javascript">
	// on document ready
	$(function() {
		person();
	});
</script>
